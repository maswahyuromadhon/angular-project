<navbar></navbar>
<br>

<div class="container" id="posisidua">
    <div class="row">
      <div class="ui-g-4 ui-md-4 ui-lg-4">
          
          <a type="button" class="btn btn-dark btn-sm" href="/home">
            <i class="fa fa-home"></i> Home
        </a>
      </div>
      <div class="ui-g-4 ui-md-4 ui-lg-4">
        <h3><b>MASTER CLIENT</b></h3>
      </div>
      <div class="ui-g-4 ui-md-4 ui-lg-4" id="navkanan">      
          
    </div>
  </div>
</div>
<div class="container" id="posisiketiga">
    <div class="row">
      <div class="ui-g-12 ui-md-12 ui-lg-12">
        <hr>
      </div>
    </div>
</div>

<div class="container" id="posisiempat">
  <div class="row">
      <div class="ui-g-1 ui-md-1 ui-lg-1">
        
      </div>
    <div class="ui-g-10 ui-md-10 ui-lg-10">

  <!-- The Modal Add Data -->
  <div class="modal" id="addModalCompany1">
    <div class="modal-dialog">
        <form class="form-horizontal" [formGroup]="companyForm" (ngSubmit)="onSubmit(companyForm.value)">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Add Data</h4>
          <button type="button" class="close" data-dismiss="modal" id="close">&times;</button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body" id="addBody">
                <div class="container">
                     <p-growl [value]="msgs"></p-growl>
                      <div class="form-group">
                        <span class="ui-float-label">
                          <input type="text" formControlName="companyCode" class="form-control form-control-sm" size="30" pInputText>
                          <label for="float-input">Code</label>
                      </span>
                      </div>
                      <div clascles="form-group">
                        <span class="ui-float-label">                       
                          <input type="text" formControlName="companyName" class="form-control form-control-sm" size="30" pInputText>
                          <label for="float-input">Name</label>
                      </span>  
                      <br>                      
                      </div>
                      <div class="form-group">
                        <span class="ui-float-label">                                               
                          <input type="file" class="form-control form-control-sm" id="companyLogo" (change)="onFileChange($event)">
                          <!-- <label for="float-input">Name</label> -->
                      </span>                                                
                      </div>	                       
                </div>
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" (click)="back()" label="Back" class="btn btn-primary" data-dismiss="modal">Back</button>
        <button type="submit" (click)="showSuccess()" class="btn btn-primary" id="btnModalCompany"><i class="fa fa-telegram fa-lg"></i> Save</button>
          
        </div>
      </div>
    </form>	
    </div>
  </div>

  <!-- ---------------------------------------------------- -->

  <!-- The Modal Update Data -->
  <div class="modal" id="editModalCompany">
    <div class="modal-dialog">
        <form class="form-horizontal" [formGroup]="companyForm"  (ngSubmit)="updateData(companyForm.value)">
      <div class="modal-content">
  
        <!-- Modal Header -->        
        <div class="modal-header">
          <h4 class="modal-title">Edit Data</h4>
          <button type="button" class="close" data-dismiss="modal" id="close">&times;</button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body" id="addBody">
          <div class="container">
            <p-growl [value]="msgs"></p-growl>
             <div class="form-group">
               <span class="ui-float-label">
                 <input type="text" formControlName="companyCode" class="form-control form-control-sm" size="30" pInputText>
                 <!-- <label for="float-input">Code</label> -->
             </span>
             </div>
             <div clascles="form-group">
               <span class="ui-float-label">                       
                 <input type="text" formControlName="companyName" class="form-control form-control-sm" size="30" pInputText>
                 <!-- <label for="float-input">Name</label> -->
             </span>  
             <br>                      
             </div>
             <div class="form-group">
              <img src="data:image/png;base64," id="imgcompany">
                <input formControlName="companyLogo" class="form-control form-control-sm" size="30" pInputText>
                <input type="file" class="form-control form-control-sm" id="companyLogo" (change)="onFileChange($event)">
                          <!-- <label for="float-input">Name</label> -->
              </div>             
                <br> 
            </div>
      </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" (click)="back()" label="Back" class="btn btn-primary" data-dismiss="modal">Back</button>
        <button type="submit" (click)="showSuccess()" class="btn btn-primary" id="btnModalCompany"><i class="fa fa-telegram fa-lg"></i> Update</button>
          
        </div>
      </div>
    </form>	
    </div>
  </div>

    <table class="table">
        <p-growl class="fixed-top" [value]="msgs"></p-growl>
        <p-confirmDialog></p-confirmDialog>
        <button type="button" class="btn btn-primary btn-block" data-toggle="modal" data-target="#addModalCompany1" id="tambahcompany" >
            <i class="fa fa-plus-circle"></i> Client
        </button>
    <p-dataTable [value]="gets" selectionMode="single" [rows]="4" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,15,20,25]" [globalFilter]="gb">                                    
      <p-column header="No." [style]="{'width':'6%'}">
          <ng-template let-i="rowIndex" pTemplate="body">
            {{i+1}}  
          </ng-template>
      </p-column>
      <p-column field="companyCode" header="Code" [sortable]="true" [style]="{'width':'15%'}"></p-column>
      <p-column field="companyName" [sortable]="true" header="Client" ></p-column>
      <p-column field="logo" header="Logo" [style]="{'width':'25%'}">
          <ng-template let-logo="rowData" pTemplate type="body">
              <img src="data:image/png;base64,{{logo.companyLogo}}" id="imgcompany">
          </ng-template>
       </p-column>
      <p-column field="" header="Action" [style]="{'width':'11%'}">
        <ng-template let-get="rowData" pTemplate>
          <div class="my-center-text">
              <button type="button" (click)="loadData(get.companyId)"
              class="btn btn-success btn-sm" id="btnedit" data-toggle="modal" data-target="#editModalCompany">
              <i class="fa fa-edit fa-lg"></i>
                 </button>
              <button type="button"
              (click)="confirm2(get.companyId)"
              class="btn btn-danger btn-sm">
              <i class="fa fa-trash fa-lg"></i>
              </button>    
          </div>
        </ng-template>
      </p-column>
  </p-dataTable>
  </table>
    </div>
  </div>
</div>

<div class="footer">
    &copy; Digitalent Solution | Bootcamp Programmer | PT. Lawencon International | 2019
</div>